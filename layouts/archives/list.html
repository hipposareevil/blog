{{ define "main" }}


<!-- HERO (Archives) -->
<section class="w-full">
  <div class="mx-auto max-w-6xl px-4 pt-6">
    <div
      class="relative overflow-hidden rounded-xl border border-neutral-300 dark:border-neutral-700"
      style="aspect-ratio: 16 / 7; min-height: 320px;">

      <img
        src="/img/wizard_archive.png"
        alt=""
        class="absolute inset-0 h-full w-full object-cover object-[center_25%]" />

      <div class="absolute inset-0 bg-black/40"></div>
      <div class="absolute inset-0 bg-gradient-to-t from-black/65 via-black/15 to-transparent"></div>

      <div class="absolute inset-0 flex items-end">
        <div class="p-6 sm:p-8">
          <h1 class="text-3xl sm:text-4xl font-extrabold text-white drop-shadow">
            Archives
          </h1>
          <p class="mt-1 text-white/90 max-w-2xl">
            A timeline of trips and stories, year by year.
          </p>
        </div>
      </div>

    </div>
  </div>
</section>
<!-- /HERO -->

<section class="mx-auto max-w-5xl px-4 md:px-6 lg:px-8 py-10">
  <header class="mb-10">
    <h1 class="text-4xl md:text-5xl font-extrabold">
      {{ .Title }}
    </h1>
    {{ with .Params.description }}
      <p class="mt-3 text-neutral-500 dark:text-neutral-400 text-lg">
        {{ . }}
      </p>
    {{ end }}
  </header>

  {{ $pages := where .Site.RegularPages "Type" "posts" }}
  {{ $grouped := $pages.GroupByDate "2006" }}

  <div class="space-y-4">
    {{ range $grouped }}
      {{ $year := .Key }}
      <details id="{{ $year }}" class="rounded-lg border border-neutral-300 dark:border-neutral-700 overflow-hidden">
        <summary class="cursor-pointer select-none px-4 py-3 flex items-center justify-between hover:bg-neutral-50 dark:hover:bg-neutral-800/40">
          <span class="text-xl font-bold">{{ $year }}</span>
          <span class="text-sm text-neutral-400">{{ len .Pages }}</span>
        </summary>

        <div class="px-4 py-4">
          <ul class="space-y-3">
            {{ range .Pages }}
              <li class="flex items-baseline gap-4">
                <span class="text-sm text-neutral-400 w-20 shrink-0">
                  {{ .Date.Format "Jan 02" }}
                </span>

                <a href="{{ .RelPermalink }}" class="font-medium hover:underline">
                  {{ .Title }}
                </a>
              </li>
            {{ end }}
          </ul>
        </div>
      </details>
    {{ end }}
  </div>
</section>

{{ end }}
